[gd_scene load_steps=9 format=3 uid="uid://bu861e1jefhnb"]

[ext_resource type="Shader" path="res://resources/shaders/ps1_post.gdshader" id="1_qbfm8"]
[ext_resource type="PackedScene" uid="uid://5pk37duhk7ys" path="res://entities/player/player.tscn" id="2_g3vgq"]
[ext_resource type="PackedScene" uid="uid://di6fk3ivmkx5u" path="res://resources/proto_assets/level_mockup.tscn" id="3_l8gve"]
[ext_resource type="PackedScene" uid="uid://dicw3t6guwoas" path="res://assets/interactables/example_interactable.tscn" id="3_qq2hn"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_l2ckg"]
shader = ExtResource("1_qbfm8")
shader_parameter/enabled = true
shader_parameter/dithering = true
shader_parameter/colors = 12
shader_parameter/dither_size = 2

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_uenbd"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_yciqa"]
sky_material = SubResource("ProceduralSkyMaterial_uenbd")

[sub_resource type="Environment" id="Environment_ajw48"]
background_mode = 2
sky = SubResource("Sky_yciqa")
ambient_light_sky_contribution = 0.0
ambient_light_energy = 0.37
tonemap_mode = 2
glow_enabled = true
volumetric_fog_enabled = true
volumetric_fog_density = 0.1
volumetric_fog_albedo = Color(0, 0, 0, 1)

[node name="BaseLevel" type="Node"]

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
material = SubResource("ShaderMaterial_l2ckg")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
scaling_3d_scale = 0.5
size = Vector2i(1920, 1080)
render_target_update_mode = 4

[node name="WorldEnvironment" type="WorldEnvironment" parent="SubViewportContainer/SubViewport"]
environment = SubResource("Environment_ajw48")

[node name="GameSpace" type="Node3D" parent="SubViewportContainer/SubViewport"]

[node name="Player" parent="SubViewportContainer/SubViewport/GameSpace" instance=ExtResource("2_g3vgq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -48.3075, 0, 2.79539)

[node name="LevelMockup" parent="SubViewportContainer/SubViewport/GameSpace" instance=ExtResource("3_l8gve")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00743866, 0.0890198, -0.0619965)

[node name="GUI" type="CanvasLayer" parent="."]

[node name="PauseMenu" type="CanvasLayer" parent="."]

[node name="ExampleInteractable" parent="." instance=ExtResource("3_qq2hn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0526552, 0, -3.5)
