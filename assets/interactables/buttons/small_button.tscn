[gd_scene load_steps=10 format=3 uid="uid://ij31gvn3xbf0"]

[ext_resource type="Script" path="res://assets/interactables/buttons/small_button.gd" id="1_7rd3i"]
[ext_resource type="PackedScene" uid="uid://n6hh1ur6kca5" path="res://resources/blend_files/misc/small_button.blend" id="2_2ldmy"]
[ext_resource type="AudioStream" uid="uid://cunkiufugcx45" path="res://resources/sounds/sfx/UI_Press_1.ogg" id="2_d3fww"]
[ext_resource type="AudioStream" uid="uid://k83gx0uahnyt" path="res://resources/sounds/sfx/UI_Press_2.ogg" id="3_6qqop"]
[ext_resource type="Script" path="res://assets/interactables/interaction_volume.gd" id="3_gnln7"]

[sub_resource type="BoxShape3D" id="BoxShape3D_i744s"]
size = Vector3(0.25, 0.14, 0.15)

[sub_resource type="Animation" id="Animation_tctro"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("small_button/Button:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_un0on"]
resource_name = "button_press"
length = 0.45
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("small_button/Button:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.35, 0.45),
"transitions": PackedFloat32Array(0.148651, 1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, -0.05, 0), Vector3(0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_7nu77"]
_data = {
"RESET": SubResource("Animation_tctro"),
"button_press": SubResource("Animation_un0on")
}

[node name="SmallButton" type="Node3D"]
script = ExtResource("1_7rd3i")
press_on_sound = ExtResource("2_d3fww")
press_off_sound = ExtResource("3_6qqop")

[node name="small_button" parent="." instance=ExtResource("2_2ldmy")]

[node name="ButtonInteract" type="Area3D" parent="."]
script = ExtResource("3_gnln7")
interaction_text = "Press Button"

[node name="CollisionShape3D" type="CollisionShape3D" parent="ButtonInteract"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.07, 0)
shape = SubResource("BoxShape3D_i744s")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_7nu77")
}

[connection signal="interacted" from="ButtonInteract" to="." method="_on_button_interact_interacted"]
[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_animation_player_animation_finished"]

[editable path="small_button"]
